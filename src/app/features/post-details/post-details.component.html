<section class="mx-auto max-w-5xl p-4 space-y-4">
  <a class="rounded-xl border px-4 py-2 inline-flex  hover:bg-gray-200 transition duration-400 ease-in-out" routerLink="/posts">Back to list</a>

  @if (postDetailsStoreService.loading()) {
    <div
      class="h-20 w-full animate-pulse rounded-2xl bg-gray-300 hover:bg-gray-400 transition duration-400 ease-in-out"
    ></div>
  } @else {
    @if (postDetailsStoreService.data(); as data) {
      <div class="space-y-6">
        <header class="flex items-start justify-between gap-4">
          <div>
            <h1 class="text-2xl font-bold">{{ data.post.title }}</h1>
            <div class="text-gray-500 text-sm space-y-3">
<!--              TODO: Find more appealing way to present this data-->
              <p>Author: {{ data.user.name }} ({{ data.user.email }})</p>
              <p>
                {{ data.user.address.street }} {{ data.user.address.suite }}
                {{ data.user.address.city }} {{ data.user.address.zipcode }}
              </p>
              <p>{{ data.user.phone }}</p>
              <p>{{ data.user.website }}</p>
              <p>
                {{ data.user.company.name }} {{ data.user.company.catchPhrase }}
                {{ data.user.company.bs }}
              </p>
            </div>
          </div>
          <button
            type="button"
            class="rounded-full px-3 py-1 text-sm border cursor-pointer hover:bg-gray-200 transition duration-400 ease-in-out"
            (click)="toggleFavorite(data.post.id)"
          >
            <!--             TODO: ADD icons for star filled and empty star-->
            {{ postDetailsStoreService.isFavorite(data.post.id) ? 'mark not fav' : 'mark fav' }}
          </button>
        </header>
        <article>
          <p>{{ data.post.body }}</p>
        </article>
        <section>
          <h2 class="text-lg font-semibold mb-2">Comments</h2>
          <ul class="space-y-3">
            @for (comment of data.comments; track comment.id) {
              <li class="rounded-xl border p-3">
                <div class="text-sm font-medium">{{ comment.name }}</div>
                <div class="text-gray-500 text-xs">{{ comment.email }}</div>
                <p class="text-sm mt-2">{{ comment.body }}</p>
              </li>
            }
          </ul>
        </section>
      </div>
    } @else {
      <div class="text-orange-600 p-4 border rounded-xl text-center">No data available</div>
    }
  }
</section>
